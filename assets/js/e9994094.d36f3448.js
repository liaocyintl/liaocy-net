"use strict";(self.webpackChunkliaocy_net=self.webpackChunkliaocy_net||[]).push([[8683],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=l(n),m=r,h=u["".concat(c,".").concat(m)]||u[m]||d[m]||i;return n?a.createElement(h,o(o({ref:t},s),{},{components:n})):a.createElement(h,o({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var p={};for(var c in t)hasOwnProperty.call(t,c)&&(p[c]=t[c]);p.originalType=e,p.mdxType="string"==typeof e?e:r,o[1]=p;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},59820:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return p},metadata:function(){return l},toc:function(){return d}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),o=["components"],p={title:"Android \u6717\u8bfb\u5b57\u7b26\u4e32",date:new Date("2018-09-15T18:44:22.000Z"),lang:"zh-Hans",tags:["\u5b89\u5353 Android","TextToSpeech"],categories:["\u5f00\u53d1 Development","\u5b89\u5353 Android"]},c=void 0,l={unversionedId:"archieved/2018/09/androidspeaker",id:"archieved/2018/09/androidspeaker",title:"Android \u6717\u8bfb\u5b57\u7b26\u4e32",description:"\u80cc\u666f",source:"@site/docs/archieved/2018/09/20180915-androidspeaker.md",sourceDirName:"archieved/2018/09",slug:"/archieved/2018/09/androidspeaker",permalink:"/liaocy-net/docs/archieved/2018/09/androidspeaker",draft:!1,editUrl:"https://github.com/liaocyintl/liaocy-net/tree/main/docs/archieved/2018/09/20180915-androidspeaker.md",tags:[{label:"\u5b89\u5353 Android",permalink:"/liaocy-net/docs/tags/\u5b89\u5353-android"},{label:"TextToSpeech",permalink:"/liaocy-net/docs/tags/text-to-speech"}],version:"current",sidebarPosition:20180915,frontMatter:{title:"Android \u6717\u8bfb\u5b57\u7b26\u4e32",date:"2018-09-15T18:44:22.000Z",lang:"zh-Hans",tags:["\u5b89\u5353 Android","TextToSpeech"],categories:["\u5f00\u53d1 Development","\u5b89\u5353 Android"]},sidebar:"tutorialSidebar",previous:{title:"\u7528\u533a\u5757\u94fe\u548c\u667a\u80fd\u5408\u7ea6\u505a\u9057\u4ea7\u7ee7\u627f",permalink:"/liaocy-net/docs/archieved/2018/08/blockchainheritage"},next:{title:"Python \u8ba1\u7b97\u7ed9\u5b9a\u503c\u5728\u7ed9\u5b9a\u9ad8\u65af\u5206\u5e03\u4e2d\u7684\u6982\u7387",permalink:"/liaocy-net/docs/archieved/2018/09/calprobinnormaldistribution"}},s={},d=[{value:"\u80cc\u666f",id:"\u80cc\u666f",level:2},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2},{value:"\u8ba9Android\u6717\u8bfb\u6587\u5b57",id:"\u8ba9android\u6717\u8bfb\u6587\u5b57",level:2},{value:"\u5c06Speaker\u4f5c\u4e3a\u5168\u5c40\u53d8\u91cf\u52a0\u5165Application",id:"\u5c06speaker\u4f5c\u4e3a\u5168\u5c40\u53d8\u91cf\u52a0\u5165application",level:2},{value:"\u5728Activity\u6d4b\u8bd5\u6717\u8bfb",id:"\u5728activity\u6d4b\u8bd5\u6717\u8bfb",level:2},{value:"\u611f\u60f3",id:"\u611f\u60f3",level:2}],u={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"\u80cc\u666f"},"\u80cc\u666f"),(0,i.kt)("p",null,"\u5728\u5f00\u53d1\u4e00\u4e9bHandsfree\u7684\u5b89\u5353\u5e94\u7528\u7684\u65f6\u5019\uff0c\u5e38\u5e38\u9700\u8981\u7cfb\u7edf\u81ea\u52a8\u6717\u8bfb\u4e00\u4e9b\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982\u201cSystem activated\u201d\u7b49\u7b49\u3002\n\u672c\u6587\u901a\u8fc7\u4f7f\u7528android.speech.tts.TextToSpeech\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002"),(0,i.kt)("h2",{id:"\u53c2\u8003\u8d44\u6599"},"\u53c2\u8003\u8d44\u6599"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/2929562/register-application-class-in-manifest"},"Register Application class in Manifest?")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/30706780/texttospeech-deprecated-speak-function-in-api-level-21"},"TextToSpeech : deprecated speak function in API Level 21"))),(0,i.kt)("h2",{id:"\u8ba9android\u6717\u8bfb\u6587\u5b57"},"\u8ba9Android\u6717\u8bfb\u6587\u5b57"),(0,i.kt)("p",null,"\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u7c7bSpeaker.java\u6765\u5b9e\u73b0\u6717\u8bfb\u529f\u80fd\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Java"},'package net.liaocy.smartcar.biz;\n\nimport android.app.Application;\nimport android.speech.tts.TextToSpeech;\nimport android.util.Log;\n\nimport java.util.LinkedList;\nimport java.util.Locale;\nimport java.util.Queue;\n\npublic class Speaker{\n\n    private TextToSpeech speech;\n    private final String TAG = "Speaker";\n\n    public Speaker(Application context){\n        super();\n        //init speech\n        this.speech = new TextToSpeech(context, new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int status) {\n                // TODO Auto-generated method stub\n                if (status == TextToSpeech.SUCCESS) {\n                    int result = speech.setLanguage(Locale.ENGLISH);\n                    if (result == TextToSpeech.LANG_MISSING_DATA || result == TextToSpeech.LANG_NOT_SUPPORTED) {\n                        Log.e(TAG, "Not support this language.");\n                    } else {\n                        Log.i(TAG, "Speaker activated!");\n                    }\n                }\n            }\n        });\n        //init speech -- end\n    }\n\n    // \u5728\u524d\u6587\u6717\u8bfb\u5b8c\u4e4b\u540e\uff0c\u6717\u8bfbtext\u4e2d\u7684\u5185\u5bb9\n    public void Speak(String text){\n        this.speech.speak(text, TextToSpeech.QUEUE_ADD, null, null);\n    }\n    \n    // \u5373\u4f7f\u524d\u6587\u6ca1\u6709\u6717\u8bfb\u5b8c\uff0c\u4e5f\u5f3a\u5236\u6717\u8bfbtext\u4e2d\u7684\u5185\u5bb9\n    public void SpeakNow(String text){\n        this.speech.speak(text, TextToSpeech.QUEUE_FLUSH, null, null);\n    }\n\n}\n')),(0,i.kt)("p",null,"\u6e90\u4ee3\u7801\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://github.com/liaocyintl/SmartCar/blob/master/app/src/main/java/net/liaocy/smartcar/biz/Speaker.java"},"\u70b9\u51fb\u8fd9\u91cc")),(0,i.kt)("h2",{id:"\u5c06speaker\u4f5c\u4e3a\u5168\u5c40\u53d8\u91cf\u52a0\u5165application"},"\u5c06Speaker\u4f5c\u4e3a\u5168\u5c40\u53d8\u91cf\u52a0\u5165Application"),(0,i.kt)("p",null,"\u6211\u4eec\u5c06Speaker\u4f5c\u4e3a\u5168\u5c40\u53d8\u91cf\u52a0\u5165Application\uff0c\u53ef\u4ee5\u5728APP\u7684\u4efb\u4f55\u4f4d\u7f6e\u8c03\u7528\u6717\u8bfb\u65b9\u6cd5\u3002"),(0,i.kt)("p",null,"\u6211\u4eec\u9996\u5148\u521b\u5efa\u4e00\u4e2aAppContext.java\uff0c\u8fd9\u662f\u81ea\u5b9a\u4e49\u4e2aApplication\u7c7b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Java"},'package net.liaocy.smartcar;\n\nimport android.app.Application;\n\nimport net.liaocy.smartcar.biz.Speaker;\n\n\npublic class AppContext extends Application {\n    private static AppContext instance;\n\n    private Speaker speaker;\n\n    //\u53d6\u5f97\u6717\u8bfb\u5668\u5bf9\u8c61\n    public Speaker getSpeaker(){\n        return this.speaker;\n    }\n\n    //\u5728\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u4ee5\u53d6\u5f97\u8fd9\u4e2a\u7c7b\u7684\u5b9e\u4f8b\n    public static AppContext getInstance() {\n        return instance;\n    }\n\n    @Override\n    public void onCreate() {\n        // TODO Auto-generated method stub\n        super.onCreate();\n        instance = this;\n\n        //init and start speaker\n        speaker = new Speaker(this);\n        speaker.Speak("System activated");\n        //init and start speaker -- end\n    }\n}\n\n')),(0,i.kt)("p",null,"\u6e90\u4ee3\u7801\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://github.com/liaocyintl/SmartCar/blob/master/app/src/main/java/net/liaocy/smartcar/AppContext.java"},"\u70b9\u51fb\u8fd9\u91cc")),(0,i.kt)("p",null,"\u5c06\u81ea\u5b9a\u4e49Application\u6ce8\u518c\u5230AndroidManifest.xml\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="utf-8"?>\n<manifest xmlns:android="http://schemas.android.com/apk/res/android"\n    package="net.liaocy.smartcar">\n\n    <application\n        android:name=".AppContext"\n        android:allowBackup="true"\n        android:icon="@mipmap/ic_launcher"\n        android:label="@string/app_name"\n        android:roundIcon="@mipmap/ic_launcher_round"\n        android:supportsRtl="true"\n        android:theme="@style/AppTheme">\n        <activity android:name=".activity.Dashboard">\n            <intent-filter>\n                <action android:name="android.intent.action.MAIN" />\n\n                <category android:name="android.intent.category.LAUNCHER" />\n            </intent-filter>\n        </activity>\n    </application>\n\n</manifest>\n')),(0,i.kt)("p",null,'\u8fd9\u91cc\u7684"android:name"\u8981\u548c\u6ce8\u518c\u7c7b\u540d\u79f0\u76f8\u540c\uff0c\u7528\u6765\u58f0\u660e\u6ce8\u518c\u7c7b\u3002\n\u6e90\u4ee3\u7801\uff1a',(0,i.kt)("a",{parentName:"p",href:"https://github.com/liaocyintl/SmartCar/blob/master/app/src/main/AndroidManifest.xml"},"\u70b9\u51fb\u8fd9\u91cc")),(0,i.kt)("h2",{id:"\u5728activity\u6d4b\u8bd5\u6717\u8bfb"},"\u5728Activity\u6d4b\u8bd5\u6717\u8bfb"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-Java"},'this.btnSpeak = this.findViewById(R.id.btnSpeak);\nthis.btnSpeak.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        Log.i(TAG, "speak");\n\n        appContext.getSpeaker().Speak("System Activated.");\n\n        txtMsg.setText("here");\n    }\n});\n\n')),(0,i.kt)("p",null,"\u6e90\u4ee3\u7801\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://github.com/liaocyintl/SmartCar/blob/master/app/src/main/java/net/liaocy/smartcar/activity/Dashboard.java"},"\u70b9\u51fb\u8fd9\u91cc")),(0,i.kt)("h2",{id:"\u611f\u60f3"},"\u611f\u60f3"),(0,i.kt)("p",null,"\u6211\u662f\u60f3\u505a\u4e00\u4e2a\u8f66\u8f7d\u7684\u5b89\u5353\u5e94\u7528\uff0c\u96c6\u6210\u5bfc\u822a\uff0cOBD\u8f66\u51b5\u68c0\u6d4b\uff0c\u4f20\u611f\u5668\u6570\u636e\u624b\u673a\u548c\u5728\u7ebf\u5206\u6790\u7b49\u4e00\u7cfb\u5217\u529f\u80fd\u3002\u6709\u5174\u8da3\u7684\u670b\u53cb\u6b22\u8fce\u4e00\u8d77\u8ba8\u8bba\u3002\n\u4ee3\u7801\u5e93\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://github.com/liaocyintl/SmartCar"},"https://github.com/liaocyintl/SmartCar")))}m.isMDXComponent=!0}}]);