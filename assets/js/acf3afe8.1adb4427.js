"use strict";
(self["webpackChunkliaocy_net"] = self["webpackChunkliaocy_net"] || []).push([[5293],{

/***/ 3905:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Zo": function() { return /* binding */ MDXProvider; },
/* harmony export */   "kt": function() { return /* binding */ createElement; }
/* harmony export */ });
/* unused harmony exports MDXContext, useMDXComponents, withMDXComponents */
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);


function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

var isFunction = function isFunction(obj) {
  return typeof obj === 'function';
};

var MDXContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createContext({});
var withMDXComponents = function withMDXComponents(Component) {
  return function (props) {
    var allComponents = useMDXComponents(props.components);
    return /*#__PURE__*/React.createElement(Component, _extends({}, props, {
      components: allComponents
    }));
  };
};
var useMDXComponents = function useMDXComponents(components) {
  var contextComponents = react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);
  var allComponents = contextComponents;

  if (components) {
    allComponents = isFunction(components) ? components(contextComponents) : _objectSpread2(_objectSpread2({}, contextComponents), components);
  }

  return allComponents;
};
var MDXProvider = function MDXProvider(props) {
  var allComponents = useMDXComponents(props.components);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider, {
    value: allComponents
  }, props.children);
};

var TYPE_PROP_NAME = 'mdxType';
var DEFAULTS = {
  inlineCode: 'code',
  wrapper: function wrapper(_ref) {
    var children = _ref.children;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, children);
  }
};
var MDXCreateElement = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var propComponents = props.components,
      mdxType = props.mdxType,
      originalType = props.originalType,
      parentName = props.parentName,
      etc = _objectWithoutProperties(props, ["components", "mdxType", "originalType", "parentName"]);

  var components = useMDXComponents(propComponents);
  var type = mdxType;
  var Component = components["".concat(parentName, ".").concat(type)] || components[type] || DEFAULTS[type] || originalType;

  if (propComponents) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, _objectSpread2(_objectSpread2({
      ref: ref
    }, etc), {}, {
      components: propComponents
    }));
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, _objectSpread2({
    ref: ref
  }, etc));
});
MDXCreateElement.displayName = 'MDXCreateElement';
function createElement (type, props) {
  var args = arguments;
  var mdxType = props && props.mdxType;

  if (typeof type === 'string' || mdxType) {
    var argsLength = args.length;
    var createElementArgArray = new Array(argsLength);
    createElementArgArray[0] = MDXCreateElement;
    var newProps = {};

    for (var key in props) {
      if (hasOwnProperty.call(props, key)) {
        newProps[key] = props[key];
      }
    }

    newProps.originalType = type;
    newProps[TYPE_PROP_NAME] = typeof type === 'string' ? type : mdxType;
    createElementArgArray[1] = newProps;

    for (var i = 2; i < argsLength; i++) {
      createElementArgArray[i] = args[i];
    }

    return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(null, createElementArgArray);
  }

  return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(null, args);
}




/***/ }),

/***/ 5075:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assets": function() { return /* binding */ assets; },
/* harmony export */   "contentTitle": function() { return /* binding */ contentTitle; },
/* harmony export */   "default": function() { return /* binding */ MDXContent; },
/* harmony export */   "frontMatter": function() { return /* binding */ frontMatter; },
/* harmony export */   "metadata": function() { return /* binding */ metadata; },
/* harmony export */   "toc": function() { return /* binding */ toc; }
/* harmony export */ });
/* harmony import */ var _home_runner_work_liaocy_net_liaocy_net_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(87462);
/* harmony import */ var _home_runner_work_liaocy_net_liaocy_net_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63366);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3905);
var _excluded=["components"];/* @jsxRuntime classic */ /* @jsx mdx */ /* @jsxFrag React.Fragment */var frontMatter={title:'cryptozombies.io Solidity 代码注释笔记',date:new Date('2018-08-03T15:05:21.000Z'),lang:'zh-Hans',tags:['Solidity','区块链 Block Chain','以太坊 Ethereum (ETH)'],categories:['开发 Development','Solidity']};var contentTitle=undefined;var metadata={"unversionedId":"archieved/2018/08/cryptozombiesio","id":"archieved/2018/08/cryptozombiesio","title":"cryptozombies.io Solidity 代码注释笔记","description":"参考资料","source":"@site/docs/archieved/2018/08/03-cryptozombiesio.md","sourceDirName":"archieved/2018/08","slug":"/archieved/2018/08/cryptozombiesio","permalink":"/liaocy-net/docs/archieved/2018/08/cryptozombiesio","draft":false,"editUrl":"https://github.com/liaocyintl/liaocy-net/tree/main/docs/archieved/2018/08/03-cryptozombiesio.md","tags":[{"label":"Solidity","permalink":"/liaocy-net/docs/tags/solidity"},{"label":"区块链 Block Chain","permalink":"/liaocy-net/docs/tags/区块链-block-chain"},{"label":"以太坊 Ethereum (ETH)","permalink":"/liaocy-net/docs/tags/以太坊-ethereum-eth"}],"version":"current","sidebarPosition":3,"frontMatter":{"title":"cryptozombies.io Solidity 代码注释笔记","date":"2018-08-03T15:05:21.000Z","lang":"zh-Hans","tags":["Solidity","区块链 Block Chain","以太坊 Ethereum (ETH)"],"categories":["开发 Development","Solidity"]},"sidebar":"tutorialSidebar","previous":{"title":"解决Python在Linux环境、Mac环境或Windows环境下，文件路径不同的问题","permalink":"/liaocy-net/docs/archieved/2018/08/pythonlinuxwinpath"},"next":{"title":"调整PHP的POST数量限制","permalink":"/liaocy-net/docs/archieved/2018/08/phpmaxinputvars"}};var assets={};var toc=[{value:'参考资料',id:'参考资料',level:2},{value:'整理',id:'整理',level:2},{value:'函数修饰符',id:'函数修饰符',level:3},{value:'ERC721 标准',id:'erc721-标准',level:3},{value:'标准注释',id:'标准注释',level:3},{value:'代码',id:'代码',level:2},{value:'示例代码',id:'示例代码',level:2},{value:'关于 storage 和 memory变量：',id:'关于-storage-和-memory变量',level:3},{value:'internal 和 external：',id:'internal-和-external',level:3},{value:'与其他合约的交互',id:'与其他合约的交互',level:3},{value:'CryptoKitties源代码',id:'cryptokitties源代码',level:3},{value:'使用接口',id:'使用接口',level:3},{value:'处理多返回值',id:'处理多返回值',level:3},{value:'kitty 和 web3.js 放在一起',id:'kitty-和-web3js-放在一起',level:3}];var layoutProps={toc:toc};var MDXLayout="wrapper";function MDXContent(_ref){var components=_ref.components,props=(0,_home_runner_work_liaocy_net_liaocy_net_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(_ref,_excluded);return (0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)(MDXLayout,(0,_home_runner_work_liaocy_net_liaocy_net_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"参考资料"},"\u53C2\u8003\u8D44\u6599"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u672C\u6587\u7528\u4F5C ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"https://cryptozombies.io"},"https://cryptozombies.io")," \u4E2D Solidity \u4EE3\u7801\u5E26\u6CE8\u91CA\u7684\u7B14\u8BB0"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"整理"},"\u6574\u7406"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"函数修饰符"},"\u51FD\u6570\u4FEE\u9970\u7B26"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("table",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("thead",{parentName:"table"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tr",{parentName:"thead"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("th",{parentName:"tr","align":null},"\u4FEE\u9970\u7B26"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("th",{parentName:"tr","align":null},"\u8BF4\u660E"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tbody",{parentName:"table"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"private"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"\u53EA\u80FD\u88AB\u5408\u7EA6\u5185\u90E8\u8C03\u7528")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"internal"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"\u5C31\u50CF private \u4F46\u662F\u4E5F\u80FD\u88AB\u7EE7\u627F\u7684\u5408\u7EA6\u8C03\u7528")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"external"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"\u53EA\u80FD\u4ECE\u5408\u7EA6\u5916\u90E8\u8C03\u7528")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"public"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"\u53EF\u4EE5\u5728\u4EFB\u4F55\u5730\u65B9\u8C03\u7528\uFF0C\u4E0D\u7BA1\u662F\u5185\u90E8\u8FD8\u662F\u5916\u90E8")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"view"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"\u544A\u8BC9\u6211\u4EEC\u8FD0\u884C\u8FD9\u4E2A\u51FD\u6570\u4E0D\u4F1A\u66F4\u6539\u548C\u4FDD\u5B58\u4EFB\u4F55\u6570\u636E")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"pure"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"\u544A\u8BC9\u6211\u4EEC\u8FD9\u4E2A\u51FD\u6570\u4E0D\u4F46\u4E0D\u4F1A\u5F80\u533A\u5757\u94FE\u5199\u6570\u636E\uFF0C\u5B83\u751A\u81F3\u4E0D\u4ECE\u533A\u5757\u94FE\u8BFB\u53D6\u6570\u636E\u3002\u8FD9\u4E24\u79CD\u5728\u88AB\u4ECE\u5408\u7EA6\u5916\u90E8\u8C03\u7528\u7684\u65F6\u5019\u90FD\u4E0D\u82B1\u8D39\u4EFB\u4F55gas\uFF08\u4F46\u662F\u5B83\u4EEC\u5728\u88AB\u5185\u90E8\u5176\u4ED6\u51FD\u6570\u8C03\u7528\u7684\u65F6\u5019\u5C06\u4F1A\u8017\u8D39gas\uFF09")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"modifiers"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"\u81EA\u5B9A\u4E49\u5176\u5BF9\u51FD\u6570\u7684\u7EA6\u675F\u903B\u8F91")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("tr",{parentName:"tbody"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"payable"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("td",{parentName:"tr","align":null},"\u53EF\u4EE5\u63A5\u6536\u4EE5\u592A\u7684\u7279\u6B8A\u51FD\u6570")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u4FEE\u9970\u7B26\u53EF\u4EE5\u540C\u65F6\u4F5C\u7528\u4E8E\u4E00\u4E2A\u51FD\u6570\u5B9A\u4E49\u4E0A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"erc721-标准"},"ERC721 \u6807\u51C6"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"contract ERC721 {\n  event Transfer(address indexed _from, address indexed _to, uint256 _tokenId);\n  event Approval(address indexed _owner, address indexed _approved, uint256 _tokenId);\n\n  function balanceOf(address _owner) public view returns (uint256 _balance);\n  function ownerOf(uint256 _tokenId) public view returns (address _owner);\n  function transfer(address _to, uint256 _tokenId) public;\n  function approve(address _to, uint256 _tokenId) public;\n  function takeOwnership(uint256 _tokenId) public;\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"标准注释"},"\u6807\u51C6\u6CE8\u91CA"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Solidity \u793E\u533A\u6240\u4F7F\u7528\u7684\u4E00\u4E2A\u6807\u51C6\u662F\u4F7F\u7528\u4E00\u79CD\u88AB\u79F0\u4F5C natspec \u7684\u683C\u5F0F\uFF0C\u770B\u8D77\u6765\u50CF\u8FD9\u6837\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"/// @title \u4E00\u4E2A\u7B80\u5355\u7684\u57FA\u7840\u8FD0\u7B97\u5408\u7EA6\n/// @author H4XF13LD MORRIS \uD83D\uDCAF\uD83D\uDCAF\uD83D\uDE0E\uD83D\uDCAF\uD83D\uDCAF\n/// @notice \u73B0\u5728\uFF0C\u8FD9\u4E2A\u5408\u7EA6\u53EA\u6DFB\u52A0\u4E00\u4E2A\u4E58\u6CD5\ncontract Math {\n  /// @notice \u4E24\u4E2A\u6570\u76F8\u4E58\n  /// @param x \u7B2C\u4E00\u4E2A uint\n  /// @param y  \u7B2C\u4E8C\u4E2A uint\n  /// @return z  (x * y) \u7684\u7ED3\u679C\n  /// @dev \u73B0\u5728\u8FD9\u4E2A\u65B9\u6CD5\u4E0D\u68C0\u67E5\u6EA2\u51FA\n  function multiply(uint x, uint y) returns (uint z) {\n    // \u8FD9\u53EA\u662F\u4E2A\u666E\u901A\u7684\u6CE8\u91CA\uFF0C\u4E0D\u4F1A\u88AB natspec \u89E3\u91CA\n    z = x * y;\n  }\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"@title\uFF08\u6807\u9898\uFF09 \u548C @author \uFF08\u4F5C\u8005\uFF09\u5F88\u76F4\u63A5\u4E86."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"@notice \uFF08\u987B\u77E5\uFF09\u5411 \u7528\u6237 \u89E3\u91CA\u8FD9\u4E2A\u65B9\u6CD5\u6216\u8005\u5408\u7EA6\u662F\u505A\u4EC0\u4E48\u7684\u3002 @dev \uFF08\u5F00\u53D1\u8005\uFF09 \u662F\u5411\u5F00\u53D1\u8005\u89E3\u91CA\u66F4\u591A\u7684\u7EC6\u8282\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"@param \uFF08\u53C2\u6570\uFF09\u548C @return \uFF08\u8FD4\u56DE\uFF09 \u7528\u6765\u63CF\u8FF0\u8FD9\u4E2A\u65B9\u6CD5\u9700\u8981\u4F20\u5165\u4EC0\u4E48\u53C2\u6570\u4EE5\u53CA\u8FD4\u56DE\u4EC0\u4E48\u503C\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u6CE8\u610F\u4F60\u5E76\u4E0D\u9700\u8981\u6BCF\u6B21\u90FD\u7528\u4E0A\u6240\u6709\u7684\u6807\u7B7E\uFF0C\u5B83\u4EEC\u90FD\u662F\u53EF\u9009\u7684\u3002\u4E0D\u8FC7\u6700\u5C11\uFF0C\u5199\u4E0B\u4E00\u4E2A @dev \u6CE8\u91CA\u6765\u89E3\u91CA\u6BCF\u4E2A\u65B9\u6CD5\u662F\u505A\u4EC0\u4E48\u7684\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"代码"},"\u4EE3\u7801"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"zombiefactory.sol :"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"pragma solidity ^0.4.19;\n\ncontract ZombieFactory {\n\n    event NewZombie(uint zombieId, string name, uint dna);\n    \n    uint dnaDigits = 16;\n    uint dnaModulus = 10 ** dnaDigits;\n\n    struct Zombie {\n        string name;\n        uint dna;\n    }\n\n    Zombie[] public zombies;\n\n    mapping (uint => address) public zombieToOwner;\n    mapping (address => uint) ownerZombieCount;\n\n    // \u9664 public \u548C private \u5C5E\u6027\u4E4B\u5916\uFF0CSolidity \u8FD8\u4F7F\u7528\u4E86\u53E6\u5916\u4E24\u4E2A\u63CF\u8FF0\u51FD\u6570\u53EF\u89C1\u6027\u7684\u4FEE\u9970\u8BCD\uFF1Ainternal\uFF08\u5185\u90E8\uFF09 \u548C external\uFF08\u5916\u90E8\uFF09\u3002\n    // internal \u548C private \u7C7B\u4F3C\uFF0C\u4E0D\u8FC7\uFF0C \u5982\u679C\u67D0\u4E2A\u5408\u7EA6\u7EE7\u627F\u81EA\u5176\u7236\u5408\u7EA6\uFF0C\u8FD9\u4E2A\u5408\u7EA6\u5373\u53EF\u4EE5\u8BBF\u95EE\u7236\u5408\u7EA6\u4E2D\u5B9A\u4E49\u7684\u201C\u5185\u90E8\u201D\u51FD\u6570\u3002\uFF08\u563F\uFF0C\u8FD9\u542C\u8D77\u6765\u6B63\u662F\u6211\u4EEC\u60F3\u8981\u7684\u90A3\u6837\uFF01\uFF09\u3002\n    // external \u4E0Epublic \u7C7B\u4F3C\uFF0C\u53EA\u4E0D\u8FC7\u8FD9\u4E9B\u51FD\u6570\u53EA\u80FD\u5728\u5408\u7EA6\u4E4B\u5916\u8C03\u7528 - \u5B83\u4EEC\u4E0D\u80FD\u88AB\u5408\u7EA6\u5185\u7684\u5176\u4ED6\u51FD\u6570\u8C03\u7528\u3002\u7A0D\u540E\u6211\u4EEC\u5C06\u8BA8\u8BBA\u4EC0\u4E48\u65F6\u5019\u4F7F\u7528 external \u548C public\u3002\n    // \u5C06 _createZombie() \u51FD\u6570\u7684\u5C5E\u6027\u4ECE private \u6539\u4E3A internal \uFF0C \u4F7F\u5F97\u5176\u4ED6\u7684\u5408\u7EA6\u4E5F\u80FD\u8BBF\u95EE\u5230\u5B83\u3002\n    //function _createZombie(string _name, uint _dna) private {\n    function _createZombie(string _name, uint _dna) internal { \n        uint id = zombies.push(Zombie(_name, _dna)) - 1;\n        \n        // \u5728 Solidity \u4E2D\uFF0C\u6709\u4E00\u4E9B\u5168\u5C40\u53D8\u91CF\u53EF\u4EE5\u88AB\u6240\u6709\u51FD\u6570\u8C03\u7528\u3002 \u5176\u4E2D\u4E00\u4E2A\u5C31\u662F msg.sender\uFF0C\u5B83\u6307\u7684\u662F\u5F53\u524D\u8C03\u7528\u8005\uFF08\u6216\u667A\u80FD\u5408\u7EA6\uFF09\u7684 address\u3002\n        // \u9996\u5148\uFF0C\u5728\u5F97\u5230\u65B0\u7684\u50F5\u5C38 id \u540E\uFF0C\u66F4\u65B0 zombieToOwner \u6620\u5C04\uFF0C\u5728 id \u4E0B\u9762\u5B58\u5165 msg.sender\u3002\n        // \u7136\u540E\uFF0C\u6211\u4EEC\u4E3A\u8FD9\u4E2A msg.sender \u540D\u4E0B\u7684 ownerZombieCount \u52A0 1\u3002\n        // \u5982\u679CKey\u4E0D\u5B58\u5728\uFF0C\u8BE5value\u9ED8\u8BA4\u4E3A0\uFF0C\u56E0\u6B64\u76F4\u63A5++\u5C31\u53EF\u4EE5\n        zombieToOwner[id] = msg.sender;\n        ownerZombieCount[msg.sender]++;\n        \n        NewZombie(id, _name, _dna);\n    }\n\n    function _generateRandomDna(string _str) private view returns (uint) {\n        uint rand = uint(keccak256(_str));\n        return rand % dnaModulus;\n    }\n\n    function createRandomZombie(string _name) public {\n        // require\u4F7F\u5F97\u51FD\u6570\u5728\u6267\u884C\u8FC7\u7A0B\u4E2D\uFF0C\u5F53\u4E0D\u6EE1\u8DB3\u67D0\u4E9B\u6761\u4EF6\u65F6\u629B\u51FA\u9519\u8BEF\uFF0C\u5E76\u505C\u6B62\u6267\u884C\uFF1A\n        // \u6572\u9ED1\u677F: Solidity \u5E76\u4E0D\u652F\u6301\u539F\u751F\u7684\u5B57\u7B26\u4E32\u6BD4\u8F83, \u6211\u4EEC\u53EA\u80FD\u901A\u8FC7\u6BD4\u8F83\u4E24\u5B57\u7B26\u4E32\u7684 keccak256 \u54C8\u5E0C\u503C\u6765\u8FDB\u884C\u5224\u65AD\n        // \u6211\u4EEC\u4F7F\u7528\u4E86 require \u6765\u786E\u4FDD\u8FD9\u4E2A\u51FD\u6570\u53EA\u6709\u5728\u6BCF\u4E2A\u7528\u6237\u7B2C\u4E00\u6B21\u8C03\u7528\u5B83\u7684\u65F6\u5019\u6267\u884C\uFF0C\u7528\u4EE5\u521B\u5EFA\u521D\u59CB\u50F5\u5C38\u3002\n        // \u5728 createRandomZombie \u7684\u524D\u9762\u653E\u7F6E require \u8BED\u53E5\u3002 \u4F7F\u5F97\u51FD\u6570\u5148\u68C0\u67E5 ownerZombieCount [msg.sender] \u7684\u503C\u4E3A 0 \uFF0C\u4E0D\u7136\u5C31\u629B\u51FA\u4E00\u4E2A\u9519\u8BEF\u3002\n        require(ownerZombieCount[msg.sender] == 0);\n        \n        \n        uint randDna = _generateRandomDna(_name);\n        _createZombie(_name, randDna);\n    }\n\n}\n\n\n\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"zombiefeeding.sol :"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"\n// \u5728 Solidity \u4E2D\uFF0C\u5F53\u4F60\u6709\u591A\u4E2A\u6587\u4EF6\u5E76\u4E14\u60F3\u628A\u4E00\u4E2A\u6587\u4EF6\u5BFC\u5165\u53E6\u4E00\u4E2A\u6587\u4EF6\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528 import \u8BED\u53E5\uFF1A\n// \u5C06 zombiefactory.sol \u5BFC\u5165\u5230\u6211\u4EEC\u7684\u65B0\u6587\u4EF6 zombiefeeding.sol \u4E2D\u3002\n\nimport \"./zombiefactory.sol\";\n\n//\u53C2\u8003 CryptoKitties \u6E90\u4EE3\u7801\n//\u5B9A\u4E49\u4E00\u4E2A\u540D\u4E3A KittyInterface \u7684\u63A5\u53E3\u3002 \u8BF7\u6CE8\u610F\uFF0C\u56E0\u4E3A\u6211\u4EEC\u4F7F\u7528\u4E86 contract \u5173\u952E\u5B57\uFF0C \u8FD9\u8FC7\u7A0B\u770B\u8D77\u6765\u5C31\u50CF\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u5408\u7EA6\u4E00\u6837\u3002\ncontract KittyInterface {\n    //\u5728interface\u91CC\u5B9A\u4E49\u4E86 getKitty \u51FD\u6570\uFF08\u4E0D\u8FC7\u662F\u590D\u5236/\u7C98\u8D34\u4E0A\u9762\u7684\u51FD\u6570\uFF0C\u4F46\u5728 returns \u8BED\u53E5\u4E4B\u540E\u7528\u5206\u53F7\uFF0C\u800C\u4E0D\u662F\u5927\u62EC\u53F7\u5185\u7684\u6240\u6709\u5185\u5BB9\u3002\n    function getKitty(uint256 _id)external view returns (\n        bool isGestating,\n        bool isReady,\n        uint256 cooldownIndex,\n        uint256 nextActionAt,\n        uint256 siringWithId,\n        uint256 birthTime,\n        uint256 matronId,\n        uint256 sireId,\n        uint256 generation,\n        uint256 genes\n    );\n}\n\n// \u6211\u4EEC\u7684\u6E38\u620F\u4EE3\u7801\u8D8A\u6765\u8D8A\u957F\u3002 \u5F53\u4EE3\u7801\u8FC7\u4E8E\u5197\u957F\u7684\u65F6\u5019\uFF0C\u6700\u597D\u5C06\u4EE3\u7801\u548C\u903B\u8F91\u5206\u62C6\u5230\u591A\u4E2A\u4E0D\u540C\u7684\u5408\u7EA6\u4E2D\uFF0C\u4EE5\u4FBF\u4E8E\u7BA1\u7406\u3002\n// \u6709\u4E2A\u8BA9 Solidity \u7684\u4EE3\u7801\u6613\u4E8E\u7BA1\u7406\u7684\u529F\u80FD\uFF0C\u5C31\u662F\u5408\u7EA6 inheritance (\u7EE7\u627F)\n// \u7531\u4E8E \u5B50\u7C7B \u662F\u4ECE \u7236\u7C7B \u90A3\u91CC inherits \uFF08\u7EE7\u627F)\u8FC7\u6765\u7684\u3002 \u8FD9\u610F\u5473\u7740\u5F53\u4F60\u7F16\u8BD1\u548C\u90E8\u7F72\u4E86 \u5B50\u7C7B\uFF0C\u5B83\u5C06\u53EF\u4EE5\u8BBF\u95EE\u6211\u4EEC\u5728 \u7236\u7C7B \u4E2D\u5B9A\u4E49\u7684\u5176\u4ED6 **\u516C\u5171** \u51FD\u6570\u3002\n// \u5728 ZombieFactory \u4E0B\u521B\u5EFA\u4E00\u4E2A\u53EB ZombieFeeding \u7684\u5408\u7EA6\uFF0C\u5B83\u662F\u7EE7\u627F\u81EA `ZombieFactory \u5408\u7EA6\u7684\u3002\ncontract ZombieFactory is ZombieFactory{\n    //\u6211\u5DF2\u7ECF\u5C06\u4EE3\u7801\u4E2D CryptoKitties \u5408\u7EA6\u7684\u5730\u5740\u4FDD\u5B58\u5728\u4E00\u4E2A\u540D\u4E3A ckAddress \u7684\u53D8\u91CF\u4E2D\u3002\u5728\u4E0B\u4E00\u884C\u4E2D\uFF0C\u8BF7\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A kittyContract \u7684 KittyInterface\uFF0C\u5E76\u7528 ckAddress \u4E3A\u5B83\u521D\u59CB\u5316 \u2014\u2014 \u5C31\u50CF\u6211\u4EEC\u4E3A numberContract\u6240\u505A\u7684\u4E00\u6837\u3002\n    address ckAddress = 0x06012c8cf97BEaD5deAe237070F9587f8E7A266d;\n    KittyInterface kittyContract = KittyInterface(ckAddress);\n\n    // \u5728 Solidity \u4E2D\uFF0C\u6709\u4E24\u4E2A\u5730\u65B9\u53EF\u4EE5\u5B58\u50A8\u53D8\u91CF \u2014\u2014 storage \u6216 memory\u3002\n    // Storage \u53D8\u91CF\u662F\u6307\u6C38\u4E45\u5B58\u50A8\u5728\u533A\u5757\u94FE\u4E2D\u7684\u53D8\u91CF\u3002 Memory \u53D8\u91CF\u5219\u662F\u4E34\u65F6\u7684\uFF0C\u5F53\u5916\u90E8\u51FD\u6570\u5BF9\u67D0\u5408\u7EA6\u8C03\u7528\u5B8C\u6210\u65F6\uFF0C\u5185\u5B58\u578B\u53D8\u91CF\u5373\u88AB\u79FB\u9664\u3002 \u4F60\u53EF\u4EE5\u628A\u5B83\u60F3\u8C61\u6210\u5B58\u50A8\u5728\u4F60\u7535\u8111\u7684\u786C\u76D8\u6216\u662FRAM\u4E2D\u6570\u636E\u7684\u5173\u7CFB\u3002\n    // \u5927\u591A\u6570\u65F6\u5019\u4F60\u90FD\u7528\u4E0D\u5230\u8FD9\u4E9B\u5173\u952E\u5B57\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B Solidity \u4F1A\u81EA\u52A8\u5904\u7406\u5B83\u4EEC\u3002 \u72B6\u6001\u53D8\u91CF\uFF08\u5728\u51FD\u6570\u4E4B\u5916\u58F0\u660E\u7684\u53D8\u91CF\uFF09\u9ED8\u8BA4\u4E3A\u201C\u5B58\u50A8\u201D\u5F62\u5F0F\uFF0C\u5E76\u6C38\u4E45\u5199\u5165\u533A\u5757\u94FE\uFF1B\u800C\u5728\u51FD\u6570\u5185\u90E8\u58F0\u660E\u7684\u53D8\u91CF\u662F\u201C\u5185\u5B58\u201D\u578B\u7684\uFF0C\u5B83\u4EEC\u51FD\u6570\u8C03\u7528\u7ED3\u675F\u540E\u6D88\u5931\u3002\n    // \u662F\u65F6\u5019\u7ED9\u6211\u4EEC\u7684\u50F5\u5C38\u589E\u52A0\u201C\u730E\u98DF\u201D\u548C\u201C\u7E41\u6B96\u201D\u529F\u80FD\u4E86\uFF01\n    // \u5F53\u4E00\u4E2A\u50F5\u5C38\u730E\u98DF\u5176\u4ED6\u751F\u7269\u4F53\u65F6\uFF0C\u5B83\u81EA\u8EAB\u7684DNA\u5C06\u4E0E\u730E\u7269\u751F\u7269\u7684DNA\u7ED3\u5408\u5728\u4E00\u8D77\uFF0C\u5F62\u6210\u4E00\u4E2A\u65B0\u7684\u50F5\u5C38DNA\u3002\n    // \u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A feedAndMultiply \u7684\u51FD\u6570\u3002 \u4F7F\u7528\u4E24\u4E2A\u53C2\u6570\uFF1A_zombieId\uFF08 uint\u7C7B\u578B \uFF09\u548C_targetDna \uFF08\u4E5F\u662F uint \u7C7B\u578B\uFF09\u3002 \u8BBE\u7F6E\u5C5E\u6027\u4E3A public \u7684\u3002\n    // function feedAndMultiply(uint _zombieId, uint _targetDna) public {\n    // \u9996\u5148\uFF0C\u6211\u4EEC\u4FEE\u6539\u4E0B feedAndMultiply \u51FD\u6570\u7684\u5B9A\u4E49\uFF0C\u7ED9\u5B83\u4F20\u5165\u7B2C\u4E09\u4E2A\u53C2\u6570\uFF1A\u4E00\u6761\u540D\u4E3A _species \u7684\u5B57\u7B26\u4E32\u3002\n    function feedAndMultiply(uint _zombieId, uint _targetDna, string _species) public {\n        // \u6211\u4EEC\u4E0D\u5E0C\u671B\u522B\u4EBA\u7528\u6211\u4EEC\u7684\u50F5\u5C38\u53BB\u6355\u730E\u3002 \u9996\u5148\uFF0C\u6211\u4EEC\u786E\u4FDD\u5BF9\u81EA\u5DF1\u50F5\u5C38\u7684\u6240\u6709\u6743\u3002 \u901A\u8FC7\u6DFB\u52A0\u4E00\u4E2Arequire \u8BED\u53E5\u6765\u786E\u4FDD msg.sender \u53EA\u80FD\u662F\u8FD9\u4E2A\u50F5\u5C38\u7684\u4E3B\u4EBA\uFF08\u7C7B\u4F3C\u4E8E\u6211\u4EEC\u5728 createRandomZombie \u51FD\u6570\u4E2D\u505A\u8FC7\u7684\u90A3\u6837\uFF09\u3002\n        require(msg.sender == zombieToOwner[_zombieId]);\n        \n        //\u5728\u6211\u4EEC\u8BA1\u7B97\u51FA\u65B0\u7684\u50F5\u5C38\u7684DNA\u4E4B\u540E\uFF0C\u6DFB\u52A0\u4E00\u4E2A if \u8BED\u53E5\u6765\u6BD4\u8F83 _species \u548C\u5B57\u7B26\u4E32 \"kitty\" \u7684 keccak256 \u54C8\u5E0C\u503C\u3002\n        if (keccak256(_species) == keccak256(\"kitty\")) {\n            // \u5728 if \u8BED\u53E5\u4E2D\uFF0C\u6211\u4EEC\u7528 99 \u66FF\u6362\u4E86\u65B0\u50F5\u5C38DNA\u7684\u6700\u540E\u4E24\u4F4D\u6570\u5B57\u3002\u53EF\u4EE5\u8FD9\u4E48\u505A\uFF1AnewDna = newDna - newDna\uFF05100 + 99;\u3002\n            // \u89E3\u91CA\uFF1A\u5047\u8BBE newDna \u662F 334455\u3002\u90A3\u4E48 newDna\uFF05100 \u662F 55\uFF0C\u6240\u4EE5 newDna - newDna\uFF05100 \u5F97\u5230 334400\u3002\u6700\u540E\u52A0\u4E0A 99 \u53EF\u5F97\u5230 334499\u3002\n            newDna = newDna - newDna % 100 + 99;\n        }\n        \n        \n        //\u4E3A\u4E86\u83B7\u53D6\u8FD9\u4E2A\u50F5\u5C38\u7684DNA\uFF0C\u6211\u4EEC\u7684\u51FD\u6570\u9700\u8981\u58F0\u660E\u4E00\u4E2A\u540D\u4E3A myZombie \u6570\u636E\u7C7B\u578B\u4E3AZombie\u7684\u672C\u5730\u53D8\u91CF\uFF08\u8FD9\u662F\u4E00\u4E2A storage \u578B\u7684\u6307\u9488\uFF09\u3002 \u5C06\u5176\u503C\u8BBE\u5B9A\u4E3A\u5728 zombies \u6570\u7EC4\u4E2D\u7D22\u5F15\u4E3A_zombieId\u6240\u6307\u5411\u7684\u503C\u3002\n        Zombie storage myZombie = zombies[_zombieId];\n        \n        // \u83B7\u53D6\u65B0\u7684\u50F5\u5C38DNA\u7684\u516C\u5F0F\u5F88\u7B80\u5355\uFF1A\u8BA1\u7B97\u730E\u98DF\u50F5\u5C38DNA\u548C\u88AB\u730E\u50F5\u5C38DNA\u4E4B\u95F4\u7684\u5E73\u5747\u503C\u3002\n        // \u9996\u5148\u6211\u4EEC\u786E\u4FDD _targetDna \u4E0D\u957F\u4E8E16\u4F4D\u3002\u8981\u505A\u5230\u8FD9\u4E00\u70B9\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8BBE\u7F6E _targetDna \u4E3A _targetDna\uFF05dnaModulus \uFF0C\u5E76\u4E14\u53EA\u53D6\u5176\u6700\u540E16\u4F4D\u6570\u5B57\u3002\n        _targetDna = _targetDna % dnaModulus;\n        // \u63A5\u4E0B\u6765\u4E3A\u6211\u4EEC\u7684\u51FD\u6570\u58F0\u660E\u4E00\u4E2A\u540D\u53EB newDna \u7684 uint\u7C7B\u578B\u7684\u53D8\u91CF\uFF0C\u5E76\u5C06\u5176\u503C\u8BBE\u7F6E\u4E3A myZombie\u7684 DNA \u548C _targetDna \u7684\u5E73\u5747\u503C\uFF08\u5982\u4E0A\u4F8B\u6240\u793A\uFF09\u3002\n        uint newDna = (myZombie.dna + _targetDna) / 2;\n        // \u4E00\u65E6\u6211\u4EEC\u8BA1\u7B97\u51FA\u65B0\u7684DNA\uFF0C\u518D\u8C03\u7528 _createZombie \u5C31\u53EF\u4EE5\u751F\u6210\u65B0\u7684\u50F5\u5C38\u4E86\u3002\n        // \u6CE8\u610F\uFF1A\u8FD9\u6BB5\u4EE3\u7801\u7F16\u8BD1\u7684\u65F6\u5019\u7F16\u8BD1\u5668\u5C31\u4F1A\u62A5\u9519\u3002 \u9519\u8BEF\u5728\u4E8E\uFF0C\u6211\u4EEC\u5C1D\u8BD5\u4ECE ZombieFeeding \u4E2D\u8C03\u7528 _createZombie \u51FD\u6570\uFF0C\u4F46 _createZombie \u5374\u662F ZombieFactory \u7684 private \uFF08\u79C1\u6709\uFF09\u51FD\u6570\u3002\u8FD9\u610F\u5473\u7740\u4EFB\u4F55\u7EE7\u627F\u81EA ZombieFactory \u7684\u5B50\u5408\u7EA6\u90FD\u4E0D\u80FD\u8BBF\u95EE\u5B83\u3002\n        _createZombie(\"NoName\", newDna);\n    }\n    \n    // \u53C2\u8003 \u5904\u7406\u591A\u8FD4\u56DE\u503C\n    // \u6211\u4EEC\u6765\u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570\uFF0C\u4ECE kitty \u5408\u7EA6\u4E2D\u83B7\u53D6\u5B83\u7684\u57FA\u56E0\uFF1A\n    // \u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A feedOnKitty \u7684\u51FD\u6570\u3002\u5B83\u9700\u89812\u4E2A uint \u7C7B\u578B\u7684\u53C2\u6570\uFF0C_zombieId \u548C_kittyId \uFF0C\u8FD9\u662F\u4E00\u4E2A public \u7C7B\u578B\u7684\u51FD\u6570\u3002\n    function feedOnKitty(uint _nombieId, uint _kittyId) public {\n        // \u51FD\u6570\u9996\u5148\u8981\u58F0\u660E\u4E00\u4E2A\u540D\u4E3A kittyDna \u7684 uint\u3002\n        // \u6CE8\u610F\uFF1A\u5728\u6211\u4EEC\u7684 KittyInterface \u4E2D\uFF0Cgenes \u662F\u4E00\u4E2A uint256 \u7C7B\u578B\u7684\u53D8\u91CF\uFF0C\u4F46\u662F\u5982\u679C\u4F60\u8BB0\u5F97\uFF0C\u6211\u4EEC\u5728\u7B2C\u4E00\u8BFE\u4E2D\u63D0\u5230\u8FC7\uFF0Cuint \u662F uint256 \u7684\u522B\u540D\uFF0C\u4E5F\u5C31\u662F\u8BF4\u5B83\u4EEC\u662F\u4E00\u56DE\u4E8B\u3002\n        uint kittyDna;\n        // \u8FD9\u4E2A\u51FD\u6570\u63A5\u4E0B\u6765\u8C03\u7528 kittyContract.getKitty\u51FD\u6570, \u4F20\u5165 _kittyId \uFF0C\u5C06\u8FD4\u56DE\u7684 genes \u5B58\u50A8\u5728 kittyDna \u4E2D\u3002\u8BB0\u4F4F \u2014\u2014 getKitty \u4F1A\u8FD4\u56DE\u4E00\u5927\u5806\u53D8\u91CF\u3002 \uFF08\u786E\u5207\u5730\u8BF410\u4E2A - \u6211\u5DF2\u7ECF\u4E3A\u4F60\u6570\u8FC7\u4E86\uFF0C\u4E0D\u9519\u5427\uFF01\uFF09\u3002\u4F46\u662F\u6211\u4EEC\u53EA\u5173\u5FC3\u6700\u540E\u4E00\u4E2A-- genes\u3002\u6570\u9017\u53F7\u7684\u65F6\u5019\u5C0F\u5FC3\u70B9\u54E6\uFF01\n        (,,,,,,,,,kittyDna) = kittyContract.getKitty(_kittyId);\n        // \u6700\u540E\uFF0C\u51FD\u6570\u8C03\u7528\u4E86 feedAndMultiply \uFF0C\u5E76\u4F20\u5165\u4E86 _zombieId \u548C kittyDna \u4E24\u4E2A\u53C2\u6570\u3002\n        //feedAndMultiply(_zombieId, kittyDna);\n        // \u6700\u540E\uFF0C\u6211\u4EEC\u4FEE\u6539\u4E86 feedOnKitty \u4E2D\u7684\u51FD\u6570\u8C03\u7528\u3002\u5F53\u5B83\u8C03\u7528 feedAndMultiply \u65F6\uFF0C\u589E\u52A0 \u201Ckitty\u201D \u4F5C\u4E3A\u6700\u540E\u4E00\u4E2A\u53C2\u6570\u3002\n        feedAndMultiply(_zombieId, kittyDna, \"kitty\");\n    }\n    \n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"示例代码"},"\u793A\u4F8B\u4EE3\u7801"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"关于-storage-和-memory变量"},"\u5173\u4E8E storage \u548C memory\u53D8\u91CF\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u5728 Solidity \u4E2D\uFF0C\u6709\u4E24\u4E2A\u5730\u65B9\u53EF\u4EE5\u5B58\u50A8\u53D8\u91CF \u2014\u2014 storage \u6216 memory\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Storage \u53D8\u91CF\u662F\u6307\u6C38\u4E45\u5B58\u50A8\u5728\u533A\u5757\u94FE\u4E2D\u7684\u53D8\u91CF\u3002 Memory \u53D8\u91CF\u5219\u662F\u4E34\u65F6\u7684\uFF0C\u5F53\u5916\u90E8\u51FD\u6570\u5BF9\u67D0\u5408\u7EA6\u8C03\u7528\u5B8C\u6210\u65F6\uFF0C\u5185\u5B58\u578B\u53D8\u91CF\u5373\u88AB\u79FB\u9664\u3002 \u4F60\u53EF\u4EE5\u628A\u5B83\u60F3\u8C61\u6210\u5B58\u50A8\u5728\u4F60\u7535\u8111\u7684\u786C\u76D8\u6216\u662FRAM\u4E2D\u6570\u636E\u7684\u5173\u7CFB\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Storage \u7C7B\u4F3C\u4E00\u4E2A\u6307\u9488\uFF0C\u53EF\u4EE5\u4FEE\u6539\u6307\u5411\u7684\u53D8\u91CF\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u5927\u591A\u6570\u65F6\u5019\u4F60\u90FD\u7528\u4E0D\u5230\u8FD9\u4E9B\u5173\u952E\u5B57\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B Solidity \u4F1A\u81EA\u52A8\u5904\u7406\u5B83\u4EEC\u3002 \u72B6\u6001\u53D8\u91CF\uFF08\u5728\u51FD\u6570\u4E4B\u5916\u58F0\u660E\u7684\u53D8\u91CF\uFF09\u9ED8\u8BA4\u4E3A\u201C\u5B58\u50A8\u201D\u5F62\u5F0F\uFF0C\u5E76\u6C38\u4E45\u5199\u5165\u533A\u5757\u94FE\uFF1B\u800C\u5728\u51FD\u6570\u5185\u90E8\u58F0\u660E\u7684\u53D8\u91CF\u662F\u201C\u5185\u5B58\u201D\u578B\u7684\uFF0C\u5B83\u4EEC\u51FD\u6570\u8C03\u7528\u7ED3\u675F\u540E\u6D88\u5931\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u7136\u800C\u4E5F\u6709\u4E00\u4E9B\u60C5\u51B5\u4E0B\uFF0C\u4F60\u9700\u8981\u624B\u52A8\u58F0\u660E\u5B58\u50A8\u7C7B\u578B\uFF0C\u4E3B\u8981\u7528\u4E8E\u5904\u7406\u51FD\u6570\u5185\u7684 \u7ED3\u6784\u4F53 \u548C \u6570\u7EC4 \u65F6\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"contract SandwichFactory {\n  struct Sandwich {\n    string name;\n    string status;\n  }\n\n  Sandwich[] sandwiches;\n\n  function eatSandwich(uint _index) public {\n    // Sandwich mySandwich = sandwiches[_index];\n\n    // ^ \u770B\u4E0A\u53BB\u5F88\u76F4\u63A5\uFF0C\u4E0D\u8FC7 Solidity \u5C06\u4F1A\u7ED9\u51FA\u8B66\u544A\n    // \u544A\u8BC9\u4F60\u5E94\u8BE5\u660E\u786E\u5728\u8FD9\u91CC\u5B9A\u4E49 `storage` \u6216\u8005 `memory`\u3002\n\n    // \u6240\u4EE5\u4F60\u5E94\u8BE5\u660E\u786E\u5B9A\u4E49 `storage`:\n    Sandwich storage mySandwich = sandwiches[_index];\n    // ...\u8FD9\u6837 `mySandwich` \u662F\u6307\u5411 `sandwiches[_index]`\u7684\u6307\u9488\n    // \u5728\u5B58\u50A8\u91CC\uFF0C\u53E6\u5916...\n    mySandwich.status = \"Eaten!\";\n    // ...\u8FD9\u5C06\u6C38\u4E45\u628A `sandwiches[_index]` \u53D8\u4E3A\u533A\u5757\u94FE\u4E0A\u7684\u5B58\u50A8\n\n    // \u5982\u679C\u4F60\u53EA\u60F3\u8981\u4E00\u4E2A\u526F\u672C\uFF0C\u53EF\u4EE5\u4F7F\u7528`memory`:\n    Sandwich memory anotherSandwich = sandwiches[_index + 1];\n    // ...\u8FD9\u6837 `anotherSandwich` \u5C31\u4EC5\u4EC5\u662F\u4E00\u4E2A\u5185\u5B58\u91CC\u7684\u526F\u672C\u4E86\n    // \u53E6\u5916\n    anotherSandwich.status = \"Eaten!\";\n    // ...\u5C06\u4EC5\u4EC5\u4FEE\u6539\u4E34\u65F6\u53D8\u91CF\uFF0C\u5BF9 `sandwiches[_index + 1]` \u6CA1\u6709\u4EFB\u4F55\u5F71\u54CD\n    // \u4E0D\u8FC7\u4F60\u53EF\u4EE5\u8FD9\u6837\u505A:\n    sandwiches[_index + 1] = anotherSandwich;\n    // ...\u5982\u679C\u4F60\u60F3\u628A\u526F\u672C\u7684\u6539\u52A8\u4FDD\u5B58\u56DE\u533A\u5757\u94FE\u5B58\u50A8\n  }\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"internal-和-external"},"internal \u548C external\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u9664 public \u548C private \u5C5E\u6027\u4E4B\u5916\uFF0CSolidity \u8FD8\u4F7F\u7528\u4E86\u53E6\u5916\u4E24\u4E2A\u63CF\u8FF0\u51FD\u6570\u53EF\u89C1\u6027\u7684\u4FEE\u9970\u8BCD\uFF1Ainternal\uFF08\u5185\u90E8\uFF09 \u548C external\uFF08\u5916\u90E8\uFF09\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"internal \u548C private \u7C7B\u4F3C\uFF0C\u4E0D\u8FC7\uFF0C \u5982\u679C\u67D0\u4E2A\u5408\u7EA6\u7EE7\u627F\u81EA\u5176\u7236\u5408\u7EA6\uFF0C\u8FD9\u4E2A\u5408\u7EA6\u5373\u53EF\u4EE5\u8BBF\u95EE\u7236\u5408\u7EA6\u4E2D\u5B9A\u4E49\u7684\u201C\u5185\u90E8\u201D\u51FD\u6570\u3002\uFF08\u563F\uFF0C\u8FD9\u542C\u8D77\u6765\u6B63\u662F\u6211\u4EEC\u60F3\u8981\u7684\u90A3\u6837\uFF01\uFF09\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"external \u4E0Epublic \u7C7B\u4F3C\uFF0C\u53EA\u4E0D\u8FC7\u8FD9\u4E9B\u51FD\u6570\u53EA\u80FD\u5728\u5408\u7EA6\u4E4B\u5916\u8C03\u7528 - \u5B83\u4EEC\u4E0D\u80FD\u88AB\u5408\u7EA6\u5185\u7684\u5176\u4ED6\u51FD\u6570\u8C03\u7528\u3002\u7A0D\u540E\u6211\u4EEC\u5C06\u8BA8\u8BBA\u4EC0\u4E48\u65F6\u5019\u4F7F\u7528 external \u548C public\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u58F0\u660E\u51FD\u6570 internal \u6216 external \u7C7B\u578B\u7684\u8BED\u6CD5\uFF0C\u4E0E\u58F0\u660E private \u548C public\u7C7B \u578B\u76F8\u540C\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"contract Sandwich {\n  uint private sandwichesEaten = 0;\n\n  function eat() internal {\n    sandwichesEaten++;\n  }\n}\n\ncontract BLT is Sandwich {\n  uint private baconSandwichesEaten = 0;\n\n  function eatWithBacon() public returns (string) {\n    baconSandwichesEaten++;\n    // \u56E0\u4E3Aeat() \u662Finternal \u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u80FD\u5728\u8FD9\u91CC\u8C03\u7528\n    eat();\n  }\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"与其他合约的交互"},"\u4E0E\u5176\u4ED6\u5408\u7EA6\u7684\u4EA4\u4E92"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u5982\u679C\u6211\u4EEC\u7684\u5408\u7EA6\u9700\u8981\u548C\u533A\u5757\u94FE\u4E0A\u7684\u5176\u4ED6\u7684\u5408\u7EA6\u4F1A\u8BDD\uFF0C\u5219\u9700\u5148\u5B9A\u4E49\u4E00\u4E2A interface (\u63A5\u53E3)\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u5148\u4E3E\u4E00\u4E2A\u7B80\u5355\u7684\u6817\u5B50\u3002 \u5047\u8BBE\u5728\u533A\u5757\u94FE\u4E0A\u6709\u8FD9\u4E48\u4E00\u4E2A\u5408\u7EA6\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"contract LuckyNumber {\n  mapping(address => uint) numbers;\n\n  function setNum(uint _num) public {\n    numbers[msg.sender] = _num;\n  }\n\n  function getNum(address _myAddress) public view returns (uint) {\n    return numbers[_myAddress];\n  }\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u8FD9\u662F\u4E2A\u5F88\u7B80\u5355\u7684\u5408\u7EA6\uFF0C\u60A8\u53EF\u4EE5\u7528\u5B83\u5B58\u50A8\u81EA\u5DF1\u7684\u5E78\u8FD0\u53F7\u7801\uFF0C\u5E76\u5C06\u5176\u4E0E\u60A8\u7684\u4EE5\u592A\u574A\u5730\u5740\u5173\u8054\u3002 \u8FD9\u6837\u5176\u4ED6\u4EBA\u5C31\u53EF\u4EE5\u901A\u8FC7\u60A8\u7684\u5730\u5740\u67E5\u627E\u60A8\u7684\u5E78\u8FD0\u53F7\u7801\u4E86\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u73B0\u5728\u5047\u8BBE\u6211\u4EEC\u6709\u4E00\u4E2A\u5916\u90E8\u5408\u7EA6\uFF0C\u4F7F\u7528 getNum \u51FD\u6570\u53EF\u8BFB\u53D6\u5176\u4E2D\u7684\u6570\u636E\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u9996\u5148\uFF0C\u6211\u4EEC\u5B9A\u4E49 LuckyNumber \u5408\u7EA6\u7684 interface \uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"contract NumberInterface {\n  function getNum(address _myAddress) public view returns (uint);\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u8BF7\u6CE8\u610F\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u867D\u7136\u770B\u8D77\u6765\u50CF\u5728\u5B9A\u4E49\u4E00\u4E2A\u5408\u7EA6\uFF0C\u4F46\u5176\u5B9E\u5185\u91CC\u4E0D\u540C\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u9996\u5148\uFF0C\u6211\u4EEC\u53EA\u58F0\u660E\u4E86\u8981\u4E0E\u4E4B\u4EA4\u4E92\u7684\u51FD\u6570 \u2014\u2014 \u5728\u672C\u4F8B\u4E2D\u4E3A getNum \u2014\u2014 \u5728\u5176\u4E2D\u6211\u4EEC\u6CA1\u6709\u4F7F\u7528\u5230\u4EFB\u4F55\u5176\u4ED6\u7684\u51FD\u6570\u6216\u72B6\u6001\u53D8\u91CF\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u5176\u6B21\uFF0C\u6211\u4EEC\u5E76\u6CA1\u6709\u4F7F\u7528\u5927\u62EC\u53F7\uFF08{ \u548C }\uFF09\u5B9A\u4E49\u51FD\u6570\u4F53\uFF0C\u6211\u4EEC\u5355\u5355\u7528\u5206\u53F7\uFF08;\uFF09\u7ED3\u675F\u4E86\u51FD\u6570\u58F0\u660E\u3002\u8FD9\u4F7F\u5B83\u770B\u8D77\u6765\u50CF\u4E00\u4E2A\u5408\u7EA6\u6846\u67B6\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u7F16\u8BD1\u5668\u5C31\u662F\u9760\u8FD9\u4E9B\u7279\u5F81\u8BA4\u51FA\u5B83\u662F\u4E00\u4E2A ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("strong",{parentName:"p"},"\u63A5\u53E3")," \u7684\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u5728\u6211\u4EEC\u7684 app \u4EE3\u7801\u4E2D\u4F7F\u7528\u8FD9\u4E2A\u63A5\u53E3\uFF0C\u5408\u7EA6\u5C31\u77E5\u9053\u5176\u4ED6\u5408\u7EA6\u7684\u51FD\u6570\u662F\u600E\u6837\u7684\uFF0C\u5E94\u8BE5\u5982\u4F55\u8C03\u7528\uFF0C\u4EE5\u53CA\u53EF\u671F\u5F85\u4EC0\u4E48\u7C7B\u578B\u7684\u8FD4\u56DE\u503C\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u5728\u4E0B\u4E00\u8BFE\u4E2D\uFF0C\u6211\u4EEC\u5C06\u771F\u6B63\u8C03\u7528\u5176\u4ED6\u5408\u7EA6\u7684\u51FD\u6570\u3002\u76EE\u524D\u6211\u4EEC\u53EA\u8981\u58F0\u660E\u4E00\u4E2A\u63A5\u53E3\uFF0C\u7528\u4E8E\u8C03\u7528 CryptoKitties \u5408\u7EA6\u5C31\u884C\u4E86\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"cryptokitties源代码"},"CryptoKitties\u6E90\u4EE3\u7801"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u6211\u4EEC\u5DF2\u7ECF\u4E3A\u4F60\u67E5\u770B\u8FC7\u4E86 CryptoKitties \u7684\u6E90\u4EE3\u7801\uFF0C\u5E76\u4E14\u627E\u5230\u4E86\u4E00\u4E2A\u540D\u4E3A getKitty\u7684\u51FD\u6570\uFF0C\u5B83\u8FD4\u56DE\u6240\u6709\u7684\u52A0\u5BC6\u732B\u7684\u6570\u636E\uFF0C\u5305\u62EC\u5B83\u7684\u201C\u57FA\u56E0\u201D\uFF08\u6211\u4EEC\u7684\u50F5\u5C38\u6E38\u620F\u8981\u7528\u5B83\u751F\u6210\u65B0\u7684\u50F5\u5C38\uFF09\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u8BE5\u51FD\u6570\u5982\u4E0B\u6240\u793A\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"function getKitty(uint256 _id) external view returns (\n    bool isGestating,\n    bool isReady,\n    uint256 cooldownIndex,\n    uint256 nextActionAt,\n    uint256 siringWithId,\n    uint256 birthTime,\n    uint256 matronId,\n    uint256 sireId,\n    uint256 generation,\n    uint256 genes\n) {\n    Kitty storage kit = kitties[_id];\n\n    // if this variable is 0 then it's not gestating\n    isGestating = (kit.siringWithId != 0);\n    isReady = (kit.cooldownEndBlock <= block.number);\n    cooldownIndex = uint256(kit.cooldownIndex);\n    nextActionAt = uint256(kit.cooldownEndBlock);\n    siringWithId = uint256(kit.siringWithId);\n    birthTime = uint256(kit.birthTime);\n    matronId = uint256(kit.matronId);\n    sireId = uint256(kit.sireId);\n    generation = uint256(kit.generation);\n    genes = kit.genes;\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"使用接口"},"\u4F7F\u7528\u63A5\u53E3"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u7EE7\u7EED\u524D\u9762 NumberInterface \u7684\u4F8B\u5B50\uFF0C\u6211\u4EEC\u65E2\u7136\u5C06\u63A5\u53E3\u5B9A\u4E49\u4E3A\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"contract NumberInterface {\n  function getNum(address _myAddress) public view returns (uint);\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u6211\u4EEC\u53EF\u4EE5\u5728\u5408\u7EA6\u4E2D\u8FD9\u6837\u4F7F\u7528\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"contract MyContract {\n  address NumberInterfaceAddress = 0xab38...;\n  // ^ \u8FD9\u662FFavoriteNumber\u5408\u7EA6\u5728\u4EE5\u592A\u574A\u4E0A\u7684\u5730\u5740\n  NumberInterface numberContract = NumberInterface(NumberInterfaceAddress);\n  // \u73B0\u5728\u53D8\u91CF `numberContract` \u6307\u5411\u53E6\u4E00\u4E2A\u5408\u7EA6\u5BF9\u8C61\n\n  function someFunction() public {\n    // \u73B0\u5728\u6211\u4EEC\u53EF\u4EE5\u8C03\u7528\u5728\u90A3\u4E2A\u5408\u7EA6\u4E2D\u58F0\u660E\u7684 `getNum`\u51FD\u6570:\n    uint num = numberContract.getNum(msg.sender);\n    // ...\u5728\u8FD9\u513F\u4F7F\u7528 `num`\u53D8\u91CF\u505A\u4E9B\u4EC0\u4E48\n  }\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\uFF0C\u53EA\u8981\u5C06\u60A8\u5408\u7EA6\u7684\u53EF\u89C1\u6027\u8BBE\u7F6E\u4E3Apublic(\u516C\u5171)\u6216external(\u5916\u90E8)\uFF0C\u5B83\u4EEC\u5C31\u53EF\u4EE5\u4E0E\u4EE5\u592A\u574A\u533A\u5757\u94FE\u4E0A\u7684\u4EFB\u4F55\u5176\u4ED6\u5408\u7EA6\u8FDB\u884C\u4EA4\u4E92\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"处理多返回值"},"\u5904\u7406\u591A\u8FD4\u56DE\u503C"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"getKitty \u662F\u6211\u4EEC\u6240\u770B\u5230\u7684\u7B2C\u4E00\u4E2A\u8FD4\u56DE\u591A\u4E2A\u503C\u7684\u51FD\u6570\u3002\u6211\u4EEC\u6765\u770B\u770B\u662F\u5982\u4F55\u5904\u7406\u7684\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-solidity"},"function multipleReturns() internal returns(uint a, uint b, uint c) {\n  return (1, 2, 3);\n}\n\nfunction processMultipleReturns() external {\n  uint a;\n  uint b;\n  uint c;\n  // \u8FD9\u6837\u6765\u505A\u6279\u91CF\u8D4B\u503C:\n  (a, b, c) = multipleReturns();\n}\n\n// \u6216\u8005\u5982\u679C\u6211\u4EEC\u53EA\u60F3\u8FD4\u56DE\u5176\u4E2D\u4E00\u4E2A\u53D8\u91CF:\nfunction getLastReturnValue() external {\n  uint c;\n  // \u53EF\u4EE5\u5BF9\u5176\u4ED6\u5B57\u6BB5\u7559\u7A7A:\n  (,,c) = multipleReturns();\n}\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"kitty-和-web3js-放在一起"},"kitty \u548C web3.js \u653E\u5728\u4E00\u8D77"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u6211\u4EEC\u53EA\u7528\u7F16\u8BD1\u548C\u90E8\u7F72 ZombieFeeding\uFF0C\u5C31\u53EF\u4EE5\u5C06\u8FD9\u4E2A\u5408\u7EA6\u90E8\u7F72\u5230\u4EE5\u592A\u574A\u4E86\u3002\u6211\u4EEC\u6700\u7EC8\u5B8C\u6210\u7684\u8FD9\u4E2A\u5408\u7EA6\u7EE7\u627F\u81EA ZombieFactory\uFF0C\u56E0\u6B64\u5B83\u53EF\u4EE5\u8BBF\u95EE\u81EA\u5DF1\u548C\u7236\u8F88\u5408\u7EA6\u4E2D\u7684\u6240\u6709 public \u65B9\u6CD5\u3002"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"\u6211\u4EEC\u6765\u770B\u4E00\u4E2A\u4E0E\u6211\u4EEC\u7684\u521A\u90E8\u7F72\u7684\u5408\u7EA6\u8FDB\u884C\u4EA4\u4E92\u7684\u4F8B\u5B50\uFF0C \u8FD9\u4E2A\u4F8B\u5B50\u4F7F\u7528\u4E86 JavaScript \u548C web3.js\uFF1A"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-javascript"},"var abi = /* abi generated by the compiler */\nvar ZombieFeedingContract = web3.eth.contract(abi)\nvar contractAddress = /* our contract address on Ethereum after deploying */\nvar ZombieFeeding = ZombieFeedingContract.at(contractAddress)\n\n// \u5047\u8BBE\u6211\u4EEC\u6709\u6211\u4EEC\u7684\u50F5\u5C38ID\u548C\u8981\u653B\u51FB\u7684\u732B\u54AAID\nlet zombieId = 1;\nlet kittyId = 1;\n\n// \u8981\u62FF\u5230\u732B\u54AA\u7684DNA\uFF0C\u6211\u4EEC\u9700\u8981\u8C03\u7528\u5B83\u7684API\u3002\u8FD9\u4E9B\u6570\u636E\u4FDD\u5B58\u5728\u5B83\u4EEC\u7684\u670D\u52A1\u5668\u4E0A\u800C\u4E0D\u662F\u533A\u5757\u94FE\u4E0A\u3002\n// \u5982\u679C\u4E00\u5207\u90FD\u5728\u533A\u5757\u94FE\u4E0A\uFF0C\u6211\u4EEC\u5C31\u4E0D\u7528\u62C5\u5FC3\u5B83\u4EEC\u7684\u670D\u52A1\u5668\u6302\u4E86\uFF0C\u6216\u8005\u5B83\u4EEC\u4FEE\u6539\u4E86API\uFF0C\n// \u6216\u8005\u56E0\u4E3A\u4E0D\u559C\u6B22\u6211\u4EEC\u7684\u50F5\u5C38\u6E38\u620F\u800C\u5C01\u6740\u4E86\u6211\u4EEC\nlet apiUrl = \"https://api.cryptokitties.co/kitties/\" + kittyId\n$.get(apiUrl, function(data) {\n  let imgUrl = data.image_url\n  // \u4E00\u4E9B\u663E\u793A\u56FE\u7247\u7684\u4EE3\u7801\n})\n\n// \u5F53\u7528\u6237\u70B9\u51FB\u4E00\u53EA\u732B\u54AA\u7684\u65F6\u5019:\n$(\".kittyImage\").click(function(e) {\n  // \u8C03\u7528\u6211\u4EEC\u5408\u7EA6\u7684 `feedOnKitty` \u51FD\u6570\n  ZombieFeeding.feedOnKitty(zombieId, kittyId)\n})\n\n// \u4FA6\u542C\u6765\u81EA\u6211\u4EEC\u5408\u7EA6\u7684\u65B0\u50F5\u5C38\u4E8B\u4EF6\u597D\u6765\u5904\u7406\nZombieFactory.NewZombie(function(error, result) {\n  if (error) return\n  // \u8FD9\u4E2A\u51FD\u6570\u7528\u6765\u663E\u793A\u50F5\u5C38:\n  generateZombie(result.zombieId, result.name, result.dna)\n})\n")));};MDXContent.isMDXComponent=true;

/***/ })

}]);